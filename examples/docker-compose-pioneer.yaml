version: "3"
services:
  cardano-pioneer-producing: # block-producing node
    image: arrakis/cardano-node:pioneer
    container_name: cardano-pioneer-producing
    volumes:
      - $PWD/active_config/:/config
    environment:
      - CARDANO_NETWORK=pioneer
    command: --producing
    ports:
      - 3000:3000
      - 12788:12788 # For EKG
      - 12798:12798 # For Prometheus
    restart: unless-stopped
  cardano-pioneer-relay: # relay node
    image: arrakis/cardano-node:pioneer
    container_name: cardano-pioneer-relay
    volumes:
      - $PWD/active_config/:/config
    environment:
      - CARDANO_NETWORK=pioneer
    command: --relay
    ports:
      - 3001:3001
      - 12789:12789 # For EKG
      - 12799:12799 # For Prometheus
    restart: unless-stopped
